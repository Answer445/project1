var DocumentLoaded=!1;window.addEvent("load",function(){DocumentLoaded=!0});var DJImageSlider=new Class({initialize:function(t,e){function i(){2==t.slider_type?s():(w<c?w++:w=0,j.start(-t.slide_size*w))}function n(){2==t.slider_type?d():(w>0?w--:w=c,j.start(-t.slide_size*w))}function s(){v||(v=!0,prev_slide=w,w<c?w++:w=0,o(prev_slide))}function d(){v||(v=!0,prev_slide=w,w>0?w--:w=c,o(prev_slide))}function o(t){b[w].setOpacity(1),b[t].effect("opacity",{duration:e.duration,wait:!0}).start(0).chain(function(){b[t].setStyle("z-index",0),b[w].setStyle("z-index",10),v=!1})}function a(){S?m.start(g,0).chain(function(){f||$("pause"+t.id).setStyle("display","none")}):x.start(g,0).chain(function(){f||$("play"+t.id).setStyle("display","none")}),f=0}function l(){S?($("pause"+t.id).setStyle("display","block"),m.start(g,1)):($("play"+t.id).setStyle("display","block"),x.start(g,1)),f=1}function r(){S?($("pause"+t.id).setStyle("display","none"),1==t.show_buttons&&m.set(0),$("play"+t.id).setStyle("display","block"),1==t.show_buttons&&x.set(1)):($("play"+t.id).setStyle("display","none"),1==t.show_buttons&&x.set(0),$("pause"+t.id).setStyle("display","block"),1==t.show_buttons&&m.set(1))}function y(){setTimeout(function(){S&&!g&&i(),y()},e.delay)}function u(){if(/\bMSIE 8.0\b/.test(navigator.appVersion)){for(var e=new Array,i=0;i<t.visible_slides;i++)e[i]=b[i];e.each(function(t){t.setStyle("opacity",0)})}$("djslider"+t.id).setOpacity(0),$("djslider"+t.id).setStyle("display","block"),$("djslider-loader"+t.id).setStyle("background","none"),$("djslider"+t.id).effect("opacity",{wait:!0,duration:500}).start(0,1),/\bMSIE 8.0\b/.test(navigator.appVersion)&&e.each(function(t){t.effect("opacity",{wait:!0,duration:500}).start(0,1)}),buttons_height=$("next"+t.id).getStyle("height").toInt(),buttons_height=Math.max(buttons_height,$("prev"+t.id).getStyle("height").toInt()),button_pos=$("navigation"+t.id).getStyle("top").toInt(),djslider_height=$("djslider"+t.id).getStyle("height").toInt(),button_pos>0?new_height=buttons_height+button_pos:new_height=djslider_height-button_pos,new_height>djslider_height&&($("djslider"+t.id).setStyle("height",new_height),$("djslider-loader"+t.id).setStyle("height",new_height),button_pos<0&&($("navigation"+t.id).setStyle("top",0),$("slider-container"+t.id).setStyle("top",-button_pos))),buttons_margin=$("navigation"+t.id).getStyle("margin-left").toInt()+$("navigation"+t.id).getStyle("margin-right").toInt(),djslider_width=$("djslider"+t.id).getStyle("width").toInt(),buttons_margin<0&&$("djslider-loader"+t.id).setStyle("width",djslider_width-buttons_margin),nav_width=$("navigation"+t.id).getStyle("width").toInt(),play_width=$("play"+t.id).getStyle("width").toInt(),$("play"+t.id).setStyle("left",nav_width/2-play_width/2),pause_width=$("play"+t.id).getStyle("width").toInt(),$("pause"+t.id).setStyle("left",nav_width/2-pause_width/2),S?$("play"+t.id).setStyle("display","none"):$("pause"+t.id).setStyle("display","none"),y()}var p=0,h=0,c=0,w=0,_="slider"+t.id,S=e.auto,g=0,f=0,v=!1,b=$("slider"+t.id).getChildren();b.each(function(){p+=t.slide_size,h++}),c=h-t.visible_slides,$(_).setStyle("position","relative");var j;if(2==t.slider_type?(b.setStyle("position","absolute"),b.setStyle("top",0),b.setStyle("left",0),$(_).setStyle("width",t.slide_size),b.setOpacity(0),b[0].setOpacity(1),b[0].setStyle("z-index","10"),$("navigation"+t.id).setStyle("z-index",20)):1==t.slider_type?($(_).setStyle("top",0),$(_).setStyle("height",p),j=new Fx.Style(_,"top",{duration:e.duration,transition:e.transition,wait:!1})):($(_).setStyle("left",0),$(_).setStyle("width",p),j=new Fx.Style(_,"left",{duration:e.duration,transition:e.transition,wait:!1})),1==t.show_buttons)var x=new Fx.Style("play"+t.id,"opacity",{duration:200,wait:!1}).set(0),m=new Fx.Style("pause"+t.id,"opacity",{duration:200,wait:!1}).set(0);if(1==t.show_arrows)var I=new Fx.Style("next"+t.id,"opacity",{duration:200,wait:!1}).set(0),k=new Fx.Style("prev"+t.id,"opacity",{duration:200,wait:!1}).set(0);$("next"+t.id).addEvent("click",function(){1==t.show_buttons&&a(),i()}),$("prev"+t.id).addEvent("click",function(){1==t.show_buttons&&a(),n()}),$("play"+t.id).addEvent("click",function(){r(),S=1}),$("pause"+t.id).addEvent("click",function(){r(),S=0}),$("djslider-loader"+t.id).addEvents({mouseenter:function(){1==t.show_buttons&&l(),1==t.show_arrows&&(I.start(1),k.start(1)),g=1},mouseleave:function(){1==t.show_buttons&&a(),1==t.show_arrows&&(I.start(0),k.start(0)),g=0}}),DocumentLoaded?u():t.preload?u.delay(t.preload):window.addEvent("load",u)}});